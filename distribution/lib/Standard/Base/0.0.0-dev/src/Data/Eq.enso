import project.Data.Ordering
import project.Data.Ordering.Comparable
import project.Data.Pair.Pair
from Standard.Base import Number, Decimal
import project.Data.Text.Text
import project.Data.Any.Any
import project.Nothing.Nothing
import project.Meta
import project.IO

from project.Data.Boolean import Boolean, True, False
from project.Data.Json import all
from project.Data.Range import all
from project.Error.Common import Error, dataflow_error_handler

type Num_Eq
    hash self n = n
    compare self n1 n2 = if n1 == n2 then Ordering.Ordering.Equal else
        if n1 < n2 then Ordering.Ordering.Less else Ordering.Ordering.Greater

Comparable.from (_:Number) = Num_Eq

Any.=== self that =
    eq_self = Comparable.from self
    eq_that = Comparable.from that

    if eq_self.is_nothing then False else
        similar_type = eq_self == eq_that
        if similar_type.not then False else
            IO.println eq_self
            hash_self = eq_self.hash self
            hash_that = eq_self.hash that
            if hash_self != hash_that then False else
                eq_self.compare self that == Ordering.Ordering.Equal

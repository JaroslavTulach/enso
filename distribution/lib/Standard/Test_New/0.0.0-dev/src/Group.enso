private

from Standard.Base import all
import project.Spec.Spec
polyglot java import java.lang.StringBuilder

type Group_Builder
    ## PRIVATE
    Impl builder

    ## Specifies a single test.
    specify : Text -> (Nothing | Text) -> (Nothing -> Any) -> Nothing
    specify self name ~code pending=Nothing =
        self.builder.append <| Spec.Impl name (_ -> code) pending
        Nothing


type Group
    Impl (name : Text) (specs : Vector Spec)

    to_text self =
        sb = StringBuilder.new
        sb.append ("Group '" + self.name + "' specs=[")
        self.specs.each spec->
            sb.append (spec.to_text + ", ")
        sb.append "]"
        sb.toString

